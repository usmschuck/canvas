(function(){var g=void 0,i=null,j=!1;function l(a){return function(){return this[a]}}var p,q=this;function r(a,c,b){a=a.split(".");b=b||q;!(a[0]in b)&&b.execScript&&b.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&c!==g?b[d]=c:b=b[d]?b[d]:b[d]={}}
function s(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c}function aa(a,c,b){return a.call.apply(a.bind,arguments)}function ba(a,c,b){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}return function(){return a.apply(c,arguments)}}
function t(a,c,b){t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return t.apply(i,arguments)}var u=Date.now||function(){return+new Date};function v(a,c,b,d,e){this.ea=a;this.P=c;this.V=b;this.ga=d;this.fa=e}v.prototype.login=l("P");v.prototype.password=l("V");var w=Array.prototype,ca=w.indexOf?function(a,c,b){return w.indexOf.call(a,c,b)}:function(a,c,b){b=b==i?0:0>b?Math.max(0,a.length+b):b;if("string"==typeof a)return"string"!=typeof c||1!=c.length?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};
function da(a,c){for(var b=1;b<arguments.length;b++){var d=arguments[b],e,f;if(!(f="array"==s(d)))e=s(d),f=(e="array"==e||"object"==e&&"number"==typeof d.length)&&Object.prototype.hasOwnProperty.call(d,"callee");if(f)a.push.apply(a,d);else if(e){f=a.length;for(var h=d.length,k=0;k<h;k++)a[f+k]=d[k]}else a.push(d)}}function ea(a,c,b,d){w.splice.apply(a,fa(arguments,1))}function fa(a,c,b){return 2>=arguments.length?w.slice.call(a,c):w.slice.call(a,c,b)};function x(a){var c=0,b;for(b in a)c++;return c}function y(a){for(var c in a)return j;return!0};function z(a,c,b,d,e){this.f=a;this.Y=c;this.$=d;this.U=e;this.d={};for(a=0;a<b.length;++a)c=b[a],this.d[c[0]]=c[1]}z.prototype.slidesWeight=function(){return 0<this.f?this.Y:0};z.prototype.slidesToView=l("f");z.prototype.totalScore=l("$");z.prototype.passingScore=l("U");function A(a,c,b,d){this.Z=a;this.t=c;this.X=b;this.Q=d}A.prototype.timeLimit=l("Z");A.prototype.message=l("Q");var B={da:"resumePlayback",ca:"gotoSlide",ba:"delayStartup"};r("ispring.presenter.player.startup.PresentationStartup.Action",B,g);r("RESUME_PLAYBACK","resumePlayback",B);r("GOTO_SLIDE","gotoSlide",B);r("DELAY_STARTUP","delayStartup",B);function C(){this.H=[];this.e=[]}C.prototype.push=function(a,c){if(!(c in this.e)){this.e[c]=[];var b=this.H,d;d=0;for(var e=b.length,f;d<e;){var h=d+e>>1,k;k=c>b[h]?1:c<b[h]?-1:0;0<k?d=h+1:(e=h,f=!k)}d=f?d:~d;0>d&&ea(b,-(d+1),0,c)}this.e[c].push(a)};function D(){this.l=new C}D.prototype.addHandler=function(a,c,b){this.l.push({M:a,K:c},b||0)};D.prototype.addHandler=D.prototype.addHandler;D.prototype.removeHandler=function(a,c,b){b=b||0;var d=b in this.l.e?this.l.e[b]:[],e=d.length,f=0;for(;f<e;++f){var h=d[f];if(h.M==a&&h.K==c){a=this.l;b in a.e&&w.splice.call(a.e[b],f,1);break}}};D.prototype.removeHandler=D.prototype.removeHandler;
D.prototype.L=function(a){var c,b=this.l;c=[];for(var d=b.e,b=b.H,e=0;e<b.length;++e)da(c,d[b[e]]);d=c.length;for(b=0;b<d;++b)e=c[b],e.M.apply(e.K,arguments)};D.prototype.dispatch=D.prototype.L;function E(a,c){this.A=a;this.I=c;this.J=new D}p=E.prototype;p.j=j;p.h=0;p.z=0;p.r=-1;p.p=0;p.start=function(a){if(!this.j&&(this.p=this.h=a||0,a=this.h>=this.A,!a||!this.I))this.j=!0,this.z=u(),a||(this.r=setTimeout(t(this.u,this),this.A-this.h))};p.u=function(){this.I&&(this.stop(),this.p=this.A);this.J.L()};p.stop=function(){this.j&&(this.j=j,0<this.r&&(clearTimeout(this.r),this.r=-1),this.p=u()-this.z+this.h)};p.duration=function(){return this.j?u()-this.z+this.h:this.p};function ga(a){this.N=a;this.O=0};var F,G,H,I;function J(){return q.navigator?q.navigator.userAgent:i}I=H=G=F=j;var K;if(K=J()){var ha=q.navigator;F=0==K.indexOf("Opera");G=!F&&-1!=K.indexOf("MSIE");H=!F&&-1!=K.indexOf("WebKit");I=!F&&!H&&"Gecko"==ha.product}var L=G,M=I,ia=H;function N(){var a=q.document;return a?a.documentMode:g}var O;
a:{var P="",Q;if(F&&q.opera)var R=q.opera.version,P="function"==typeof R?R():R;else if(M?Q=/rv\:([^\);]+)(\)|;)/:L?Q=/MSIE\s+([^\);]+)(\)|;)/:ia&&(Q=/WebKit\/(\S+)/),Q)var S=Q.exec(J()),P=S?S[1]:"";if(L){var ja=N();if(ja>parseFloat(P)){O=String(ja);break a}}O=P}var ka={};
function la(a){if(!ka[a]){for(var c=0,b=String(O).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(b.length,d.length),f=0;0==c&&f<e;f++){var h=b[f]||"",k=d[f]||"",ya=RegExp("(\\d*)(\\D*)","g"),za=RegExp("(\\d*)(\\D*)","g");do{var m=ya.exec(h)||["","",""],n=za.exec(k)||["","",""];if(0==m[0].length&&0==n[0].length)break;c=((0==m[1].length?0:parseInt(m[1],10))<(0==n[1].length?0:parseInt(n[1],10))?-1:(0==m[1].length?0:parseInt(m[1],
10))>(0==n[1].length?0:parseInt(n[1],10))?1:0)||((0==m[2].length)<(0==n[2].length)?-1:(0==m[2].length)>(0==n[2].length)?1:0)||(m[2]<n[2]?-1:m[2]>n[2]?1:0)}while(0==c)}ka[a]=0<=c}}var ma=q.document,na=!ma||!L?g:N()||("CSS1Compat"==ma.compatMode?parseInt(O,10):5);if(M||L){var T;if(T=L)T=L&&9<=na;T||M&&la("1.9.1")}L&&la("9");function oa(){function a(a){try{for(var c=0;255>c;++c){if(a.API)return a.API;var e=a.parent;if(!e||a==e)break;a=e}}catch(f){}return i}var c=window;return a(c)||c.opener&&a(c.opener)}function pa(){var a=document.getElementById("preloader");a&&a.parentNode.removeChild(a);try{window.open("","_self",""),window.close()}catch(c){}};function qa(a){this.T=a};function U(a,c,b){this.q=new z(b.slidesToView,b.slidesWeight,b.quizzes||{},b.totalScore,b.passingScore);this.g=new A(1E3*b.timeLimit,b.exitOnTimeout,b.showMessageOnTimeout,b.timeoutMessage);this.k=new E(this.g.timeLimit(),this.g.t);this.w={};a:{a=b.tincan.i18n;var d=new qa(b.flags);switch(c){case "1.2":a=new window.iSpring.LMSAPI.Scorm12Api(d);break a;case "2004":a=new window.iSpring.LMSAPI.Scorm2004Api;break a;case "aicc":a=new window.iSpring.LMSAPI.AiccApi(d);break a;case "tincan":a=new window.iSpring.LMSAPI.TinCanApi(a);
break a;default:throw Error("unknown api");}}this.b=a;if("tincan"==c){var e=b.tincan.auth;c=e.type;a=e.login;var d=e.password,f=e.name,e=e.email.match(/^\s*(.*@.*?)\s*$/);this.b.setStandaloneSettings(b.presentationId,b.tincan.endPoint,new v(c,a,d,f,e?e[1]:""))}}p=U.prototype;p.C=j;p.m=i;p.o=j;p.i=i;p.v=0;var ra=i;r("iSpring.LMS.create",function(a,c,b){return ra=new U(0,c,b)},g);r("iSpring.LMS.instance",function(){return ra},g);U.prototype.n=function(a){this.m=a;this.b.n(t(this.S,this),t(this.R,this))};
U.prototype.initialize=U.prototype.n;U.prototype.start=function(a){if(this.C){this.i=a;this.o=!0;this.b.start(a);var c=a.view().playbackController();c.slideChangeEvent().addHandler(this.D,this);var b=c.currentSlideIndex();0<=b&&(sa(this.b,b),ta(this));c=c.clock();c.buffering()?c.bufferStateChangeEvent().addHandler(this.F,this):ua(this);V(this.b)&&a.presentation().settings().playback().resume()&&a.startupEvent().addHandler(this.G,this)}};U.prototype.start=U.prototype.start;
U.prototype.aa=function(){this.o&&va(this,!wa(this))};U.prototype.closeLms=U.prototype.aa;function va(a,c){if(a.o)if(a.o=j,a.k.stop(),xa(a.b,a.k.duration()),a.i.view().playbackController().slideChangeEvent().removeHandler(a.D,a),c){var b=a.b;W(b.a,"cmi.core.exit","suspend");b.a.terminate()}else a.b.terminate()}p=U.prototype;
p.S=function(){var a=V(this.b);if(a&&(this.v=a.O,this.g.t&&this.v>=this.g.timeLimit())){alert("You have already exceeded available time for viewing this content.");pa();return}this.C=!0;this.m&&this.m()};p.R=function(){this.m&&this.m()};p.G=function(a){this.i.startupEvent().removeHandler(this.G,this);a.setSlideIndex(V(this.b).N);a.setAction("resumePlayback")};p.F=function(a){a.bufferStateChangeEvent().removeHandler(this.F,this);ua(this)};
function ua(a){a.k.j||(a.k.J.addHandler(a.u,a),a.k.start(a.v))}p.D=function(a){sa(this.b,a);ta(this)};
function ta(a){var c=a.q;if(0<c.f||!y(c.d)){var b=Aa(a),b=c.totalScore()*b,d=a.b,c=c.totalScore();W(d.a,"cmi.core.score.min",0);W(d.a,"cmi.core.score.max",c);W(d.a,"cmi.core.score.raw",b)}a.i.presentation().slides().count();c=a.b;b=a.q;b=!(0<b.f)&&y(b.d)?i:Aa(a)*b.totalScore()>=b.passingScore();d=wa(a);b=b!==i?b:d;d="unknown";b===i||(d=c.W.T&(b?2:1)?b?"passed":"failed":b?"completed":"incomplete");W(c.a,"cmi.core.lesson_status",d);xa(a.b,a.k.duration());a.b.B()}
function wa(a){var c=a.q,b=0<c.f?c.slidesToView():a.i.presentation().slides().count(),c=x(a.w)==x(c.d);return a.b.c.length>=b&&c}function Aa(a){var c=a.q;if(!(0<c.f)&&y(c.d))return 0;var b=0,d;for(d in a.w)var e=parseInt(d,10),b=b+a.w[e]*(!(e in c.d)?0:c.d[e]);d=0;0<c.f&&(d=a.i.presentation().slides().count(),d=a.b.c.length/d*c.slidesWeight());e=c.d;a=[];var f=0,h;for(h in e)a[f++]=e[h];for(e=h=0;e<a.length;++e)h+=a[e];c=h+c.slidesWeight();return(b+d)/c}
p.u=function(){this.g.X&&alert(this.g.message());this.g.t&&(va(this,j),pa())};function X(a){this.a=a}X.prototype.n=function(){return Y(this.a.LMSInitialize(""))};X.prototype.terminate=function(){return Y(this.a.LMSFinish(""))};X.prototype.B=function(){return Y(this.a.LMSCommit(""))};function W(a,c,b){"number"==typeof b&&(b=parseFloat(b.toFixed(2))+"");a.a.LMSSetValue(c,b)}function Y(a){return"true"==a};function Ba(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(c){}throw Error("Invalid JSON string: "+a);}function Ca(){this.s=g}
function Z(a,c,b){switch(typeof c){case "string":Da(c,b);break;case "number":b.push(isFinite(c)&&!isNaN(c)?c:"null");break;case "boolean":b.push(c);break;case "undefined":b.push("null");break;case "object":if(c==i){b.push("null");break}if("array"==s(c)){var d=c.length;b.push("[");for(var e="",f=0;f<d;f++)b.push(e),e=c[f],Z(a,a.s?a.s.call(c,String(f),e):e,b),e=",";b.push("]");break}b.push("{");d="";for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(e=c[f],"function"!=typeof e&&(b.push(d),Da(f,
b),b.push(":"),Z(a,a.s?a.s.call(c,f,e):e,b),d=","));b.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof c);}}var $={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Da(a,c){c.push('"',a.replace(Ea,function(a){if(a in $)return $[a];var c=a.charCodeAt(0),e="\\u";16>c?e+="000":256>c?e+="00":4096>c&&(e+="0");return $[a]=e+c.toString(16)}),'"')};function Fa(a){this.c=[];this.W=a}r("iSpring.LMSAPI.Scorm12Api",Fa,g);p=Fa.prototype;p.a=i;p.n=function(a,c){var b=oa();if((this.a=b?new X(b):i)&&this.a.n()){if(b=this.a.a.LMSGetValue("cmi.suspend_data"))this.c=Ba(b)||[];a&&a()}else c&&c()};p.start=function(){};p.B=function(){this.a.B()};p.terminate=function(){W(this.a,"cmi.core.exit","");this.a.terminate()};function sa(a,c){var b=a.c,d=ca(b,c);0<=d&&w.splice.call(b,d,1);a.c.push(c);b=a.a;d=[];Z(new Ca,a.c,d);W(b,"cmi.suspend_data",d.join(""))}
function xa(a,c){var b=Math.floor(c/1E3/3600),d=Math.floor(c/1E3%3600/60),e=Math.floor(c/1E3%60);W(a.a,"cmi.core.session_time",(10>b?"0"+b:b)+":"+(10>d?"0"+d:d)+":"+(10>e?"0"+e:e))}function V(a){return 0<a.c.length?new ga(a.c[a.c.length-1]):i};})();
